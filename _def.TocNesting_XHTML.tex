\def\tocNesting#1{%
      \expandafter\ifx \csname level#1\endcsname\relax
          \ifnum #1>0 \HCode{<ul>}\fi
          \expandafter\def \csname level#1\endcsname{\HCode{</li></ul>}}
          \let\endLi=\empty
      \else
          \def\endLi{\HCode{</li>}}
      \fi
      \c=#1 \advance\c by 1
      \loop
        \csname level\the\c\endcsname
        \expandafter\let \csname level\the\c\endcsname\relax
        \advance\c by 1
      \ifnum \c<10   \repeat
      \endLi
   }


